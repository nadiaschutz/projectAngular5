<div class="container">
  <div class="main-header">
    <h5>Search Client</h5>
    <h6>client department > client</h6>
  </div>
  <div>
    <div class="search-box">
      <form class="center-align">
        <div class="form-group">
          <div class="form-group-search">

            <div class="row ">

              <div class="col">
                <label for="firstName" class="label-name">First Name</label>
                <input type="text" name="firstName" id="firstName" class="form-control 
                    field-box-name"
                  placeholder="Enter" [(ngModel)]="givenName.data">
              </div>
              <div class="col">
                <label for="familyName" class="label-name">Last Name</label>
                <input type="text" name="familyName" id="familyName" class="form-control 
                      field-box-name"
                  placeholder="Enter" [(ngModel)]="familyName.data">
              </div>
            </div>
            <div class="row">
              <div class="col">
                <label for="clientid" class="label-name">Employee PRI</label>
                <input type="text" name="clientid" id="clientid" class="form-control" placeholder="Enter" [(ngModel)]="clientId.data">
              </div>
              <div class="col">
                <label for="dob" class="label-name">Date of Birth</label>
                <input class="form-control" [ngModel]="dateOfBirth.data | date:'yyyy-MM-dd'" (ngModelChange)="dateOfBirth.data = $event"
                  type="date" name="dob" />
              </div>
            </div>
            <div class="row">
              <div class="col">
                <label for="region" class="label-name">Employee Type</label>
                <select class="form-control" [(ngModel)]="employeeType" (ngModelChange)="employeeType = $event" name="employeeType">
                  <option [ngValue]="null">Select Type</option>
                  <option *ngFor="let employeeType of employeeTypeArray" [value]="employeeType">
                    {{employeeType}}
                  </option>
                </select>
              </div>
              <div class="col">
                <label for="department" class="label-name">Client Department</label>
                <select class="form-control" [(ngModel)]="clientDepartment" (ngModelChange)="clientDepartment = $event"
                  name="department">
                  <option [ngValue]="null">Select Department</option>
                  <option *ngFor="let department of listOfDepartments" [value]="department">
                    {{department}}
                  </option>
                </select>
              </div>
            </div>
          </div>
          <button type="submit" class="btn regular-button" (click)="employeeSearch()">Search</button>
          <button type="button" class="btn regular-button" (click)="refreshSearch()">Refresh Search</button>

        </div>
      </form>
    </div>
    <!-- List of Clients  -->

    <div *ngIf="patientList.length > 0; else noneFound">
      <h6>Clients</h6>
      <div class="button-section" [ngClass]="roleInSession">
        <button type="button" class="btn special-button" (click)="newEmployeeButton()">New Client Record</button>
      </div>
      <div class="table-container">
        <table class="table  table-hover">
          <thead class="header-table ">
            <tr>
              <th scope="col">Employee PRI</th>
              <th scope="col">First Name</th>
              <th scope="col">Last Name</th>
              <th scope="col">Date of Birth</th>
              <th scope="col">Client Type</th>
              <th scope="col" style="width: 390px;">Department</th>
              <th scope="col">Branch</th>

            </tr>
          </thead>
          <tbody class="body-table">
            <tr *ngFor="let patient of patientList">
              <td>{{patient.id}}</td>
              <td *ngFor="let name of patient.name" (click)="routeToSummary(patient.id)" class="cursor">{{name.given}}</td>
              <td *ngFor="let name of patient.name" (click)="routeToSummary(patient.id)" class="cursor">{{name.family}}</td>
              <td>{{patient.birthDate | date: 'dd/MM/yyyy'}}</td>

              <td>
                <span *ngFor="let extension of patient.extension">
                  <span *ngIf="extension.url=='https://bcip.smilecdr.com/fhir/employeetype'">{{extension.valueString}}</span>
                </span>
              </td>

              <td>
                <span *ngFor="let extension of patient.extension">
                  <span *ngIf="extension.url=='https://bcip.smilecdr.com/fhir/workplace'">{{extension.valueString}}</span>
                </span>
              </td>

              <td>
                <span *ngFor="let extension of patient.extension">
                  <span *ngIf="extension.url=='https://bcip.smilecdr.com/fhir/branch'">{{extension.valueString}}</span>
                </span>
              </td>
              <!-- <ng-container *ngFor="let extension of q.extension">
                        <td *ngIf="extension.url=='https://bcip.smilecdr.com/fhir/workplace'">
                          {{extension.valueString}}
                        </td>
                
                      </ng-container> -->
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <ng-template #noneFound>
      <h5>No employees associated with this user</h5>
    </ng-template>
  </div>
</div>