<div class='container'>
  <div class="main-header">
    <h5>Search Service Request</h5>
    <h6>client department > search service request</h6>
  </div>
  <div class="search-box">
    <form #form="ngForm" class="center-align">
      <div class="form-group">
        <div class="form-group-search">

          <div class="row ">

            <div class="col">
              <label for="name" class="label-name">First Name</label>
              <input type="text" name="name" id="name" class="form-control" placeholder="Enter" [(ngModel)]="givenName.data">
            </div>

            <div class="col">
              <label for="name" class="label-name">Last Name</label>
              <input type="text" name="name" id="name" class="form-control" placeholder="Enter" [(ngModel)]="familyName.data">
            </div>

          </div>

          <div class="row">

            <div class="col">
              <label for="clientid" class="label-name">Service Request ID</label>
              <input type="text" name="serviceRequestId" id="serviceRequestId" class="form-control" [(ngModel)]="serviceRequestId.data"
                placeholder="Enter">
            </div>

            <div class="col">
              <label for="dob" class="label-name">Date of Birth</label>
              <!-- <input class="form-control" 
              [ngModel]="dateOfBirth.data | date:'yyyy-MM-dd'" 
              (ngModelChange)="dateOfBirth.data = $event" 
              type="date" 
              name="dob"/> -->
              <input type="text" class="form-control" placeholder="Datepicker" [(bsValue)]="dateOfBirth.data" id="dob"
                bsDatepicker [bsConfig]='datePickerConfig' [minDate]="minDate" [maxDate]="maxDate" red>
            </div>

          </div>

          <div class="row">

            <div class="col">
              <label for="region" class="label-name">Region</label>
              <select class="form-control" [(ngModel)]="region" (ngModelChange)="region = $event" name="region">
                <option [ngValue]="null">Select</option>
                <option *ngFor="let region of regionArr" [value]="region">
                  {{region}}
                </option>
              </select>
            </div>

            <div class="col">
              <label for="department" class="label-name">Client Department</label>
              <select class="form-control" [(ngModel)]="clientDepartment" (ngModelChange)="clientDepartment = $event"
                name="department">
                <option [ngValue]="null">Select</option>
                <option *ngFor="let department of departmentList" [value]="department">
                  {{department}}
                </option>
              </select>

            </div>

          </div>

          <div class="row">

            <div class="col">
              <label for="stat" class="label-name">Status</label>
              <select class="form-control" [(ngModel)]="status.data" (ngModelChange)="status.data = $event" name="stat">
                <option [ngValue]="null">Select</option>
                <option *ngFor="let stat of statusArr" [value]="stat">
                  {{stat}}
                </option>
              </select>
            </div>

            <div class="col">
              <!-- <label for="date" class="label-name">Date</label>
              <input type="text" class="form-control" placeholder="Datepicker" [(bsValue)]="date.data" id="date"
                bsDatepicker [bsConfig]='datePickerConfig' red> -->
            </div>

          </div>
        </div>



        <button type="submit" class="btn regular-dark-button" (click)="dataSearch()">Search</button>
        <button type="button" class="btn regular-button" (click)="refreshSearch()">Refresh</button>

      </div>
    </form>
  </div>



  <!-- <div class="button-section">
      
        <a routerLink="/newadvicerequest"><button class="btn special-button"> + New Advice Consultation</button></a>
    </div> -->



  <div>
    <table class="table  table-hover">
      <thead class="header-table">
        <tr>
          <th scope="col" (click)="sorterFunction('id')">Service Request ID</th>
          <th scope="col" (click)="sorterFunction('date')">Date</th>
          <th scope="col" (click)="sorterFunction('PSOHP_service')">PSOHP Service</th>
          <th scope="col" (click)="sorterFunction('assessmentType')">Assesment Type</th>
          <th scope="col" (click)="sorterFunction('idepartment')">Department</th>
          <th scope="col" (click)="sorterFunction('region')">Region</th>
          <th scope="col" (click)="sorterFunction('createdBy')">Created By</th>
          <th scope="col" (click)="sorterFunction('clientName')">Client's Name</th>
          <th scope="col" (click)="sorterFunction('status')">Status</th>
        </tr>
      </thead>
      <tbody *ngIf="str===null" class="body-table">
        <tr *ngFor="let  servRequest of servRequests" class="request-list">
          <td routerLink="/service-request-summary/{{servRequest.id}}" class="cursor" skipLocationChange>{{servRequest.id}}</td>
          <td>{{servRequest.date | date: 'dd/MM/yyyy'}}</td>
          <td>{{servRequest.PSOHP_service}}</td>
          <td>{{servRequest.assessmentType}}</td>
          <td>{{servRequest.department}}</td>
          <td>{{servRequest.region}}</td>
          <td>{{servRequest.createdBy}}</td>
          <td>{{servRequest.clientName}}</td>
          <td>{{servRequest.status}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>