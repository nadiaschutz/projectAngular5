<div class="main-header">
  <h5>Lab Requisition</h5>
</div>
<div class="container">

  <div class="row">

    <div class="col">
      <label>Name </label>
      <span>{{patient.name}}</span>
    </div>
    <div class="col">
      <label>Date of Birth </label>
      <span>{{patient.dob}}</span>
    </div>
    <div class="col">
      <label>Employee Id </label>
      <span>{{patient.employeeId}}</span>
    </div>

  </div>

  <div>
    <label class="col-3">Type of Requisition</label>
    <select [(ngModel)]="requisitionType" class="form-control col-3">
      <option>Diagnostics Test</option>
      <option>Consultation</option>
      <option>Medical Information</option>
    </select>
  </div>

  <div *ngIf="requisitionType=='Consultation'" class="search-box">
    <h6>Consultation</h6>

    <form [formGroup]="consultationFormGroup">
      <div class="field">
        <label class="col-3" for="assignTo"><strong>Assign Clinician: </strong></label>
        <select class="form-control col-3" required [(ngModel)]="selectedClinician" name="assignTo" formControlName="assignTo">
          <option *ngFor="let clinician of clinicians" [ngValue]="clinician">
            <span>{{clinician.name}}</span>
          </option>
        </select>
      </div>
      <div class="field">
        <label class="col-3" for="speciality">Speciality: </label>
        <input type="text" class="form-control col-3" name="speciality" formControlName="speciality">
      </div>
      <div class="field">
        <label class="col-3" for="instructions">Instructions: </label>
        <input type="text" class="form-control col-3" name="instructions" formControlName="instructions">
      </div>
    </form>
  </div>

  <!-- Lab Test -->

  <div *ngIf="requisitionType=='Diagnostics Test'">

    <div class="field">
      <label class="col-3">Service Delivery: </label>
      <select [(ngModel)]="serviceDeliveryType" class="form-control col-3">
        <option>Point of Care</option>
        <option>Referral</option>
      </select>
    </div>

    <div class="field">
      <label class="col-3">Instructions: </label>
      <input type="text" [(ngModel)]="instructions" class="form-control col-3 instructions">
    </div>
  
    <!-- Items -->
    <div *ngIf="serviceDeliveryType.length>0">
      <div class="row">
        <div *ngFor="let item of labTestArray">
          
          <div class="col"></div>
          
        </div>
      </div>
    </div>
    <div *ngIf="serviceDeliveryType.length>0">
      <div id="print">
        <ul>
          <li *ngFor="let item of labTestArray">
            <label class="item-header">{{item.text | uppercase}}</label>
            <section *ngIf="item.items">
              <div *ngFor="let element of item.items">
                <label class="item">
                  <input type="checkbox" [(ngModel)]="element.checked">
                  <span class="checklist-item">{{element.text}}</span>
                </label>
              </div>
            </section>
          </li>
        </ul>
      </div>
    
      <button class="btn special-button" (click)="saveProcedureRequest()">Submit</button>
      <button class="btn special-button" (click)="printToPDF()">Print</button>
    </div>

</div>

  
</div>